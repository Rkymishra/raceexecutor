
@model RaceExecutor.UI.Models.TrailRace
@{
    ViewBag.Title = "CategoryListView";
    Layout = null;
}

<h3 style="margin-top:50px; margin-bottom:20px; color:black;">Category Wise Ranked Data</h3>
<hr />

<table id="example" class="table table-striped table-bordered white-box" style="width:100%">
    <thead>
        <tr>
            <th>BIB Code</th>
            <th>Name</th>
            <th>Gender</th>
            <th>Age</th>
            <th>Start Time</th>
            <th>End Time</th>
            <th>Interval</th>
            <th>Distance</th>
            <th>Rank</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model.DisplayList)
        {
        <tr>
            <td contenteditable="true" id="@item.Id" class="BIBCode">
                @item.BIBCode
            </td>
            <td contenteditable="true" id="@item.Id" class="Name">
                @item.Name
            </td>
            <td contenteditable="true" id="@item.Id" class="Gender">
                @item.Gender
            </td>
            <td contenteditable="true" id="@item.Id" class="Age">
                @item.Age
            </td>
            <td contenteditable="true" id="@item.Id" class="StartTime">
                @item.StartTime
            </td>
            <td contenteditable="true" id="@item.Id" class="EndTime">
                @item.EndTime
            </td>
            <td contenteditable="true" id="@item.Id" class="Interval">
                @item.Interval
            </td>
            <td contenteditable="true" id="@item.Id" class="Distance">
                @item.Distance
            </td>
            <td>
                @item.Rank
            </td>
        </tr>
        }
    </tbody>
</table>
<link href="~/Content/datatable.bootstrap.min.css" rel="stylesheet" />
<script src="~/Content/datatable.min.js"></script>
<script>
    $(document).ready(function () {
        $('#example').DataTable();
    });
</script>
<script>

    $('table td.Name').on('input', function () {
        var row = $(this).attr('id');
        var Name = $(this).text();
        $.ajax({
                type: "POST",
                url: '@Url.Action("UpdateRegistered", "Race")',
                data: { UserName: Name, rowId: row },
                dataType: 'html',
                encode: true,
                success: function (data) {
                alert("Success");
                }
                });
    });
    $('table td.BIBCode').on('input', function () {
        var BIBCoderow = $(this).attr('id');
        var BIBCode = $(this).text();
        $.ajax({
            type: "POST",
            url: '@Url.Action("UpdateRegistered", "Race")',
            data: { UserBIBCode: BIBCode, rowId: BIBCoderow },
            dataType: 'html',
            encode: true,
            success: function (data) {
                alert("Success");
            }
        });
    });
    $('table td.Age').on('input', function () {
        var Agerow = $(this).attr('id');
        var Age = $(this).text();
        $.ajax({
            type: "POST",
            url: '@Url.Action("UpdateRegistered", "Race")',
            data: { UserAge: Age, rowId: Agerow },
            dataType: 'html',
            encode: true,
            success: function (data) {
                alert("Success");
            }
        });
    });
    $('table td.Gender').on('input', function () {
        var Genderrow = $(this).attr('id');
        var Gender = $(this).text();
        $.ajax({
            type: "POST",
            url: '@Url.Action("UpdateRegistered", "Race")',
            data: { UserGender: Gender, rowId: Genderrow },
            dataType: 'html',
            encode: true,
            success: function (data) {
                alert("Success");
            }
        });
    });
    $('table td.EndTime').on('input', function () {
        var EndTimerow = $(this).attr('id');
        var EndTime = $(this).text();
        $.ajax({
            type: "POST",
            url: '@Url.Action("UpdateRegistered", "Race")',
            data: { UserEndTime: EndTime, rowId: EndTimerow },
            dataType: 'html',
            encode: true,
            success: function (data) {
                alert("Success");
            }
        });
    });
    $('table td.Interval').on('input', function () {
        var Intervalrow = $(this).attr('id');
        var Interval = $(this).text();
        $.ajax({
            type: "POST",
            url: '@Url.Action("UpdateRegistered", "Race")',
            data: { UserInterval: Interval, rowId: Intervalrow },
            dataType: 'html',
            encode: true,
            success: function (data) {
                alert("Success");
            }
        });
    });
  
    $('table td.Distance').on('input', function () {
        var Distancerow = $(this).attr('id');
        var Distance = $(this).text();
        $.ajax({
            type: "POST",
            url: '@Url.Action("UpdateRegistered", "Race")',
            data: { UserDistance: Distance, rowId: Distancerow },
            dataType: 'html',
            encode: true,
            success: function (data) {
                alert("Success");
            }
        });
    });
    $('table td.StartTime').on('input', function () {
        var StartTimerow = $(this).attr('id');
        var StartTime = $(this).text();
        $.ajax({
            type: "POST",
            url: '@Url.Action("UpdateRegistered", "Race")',
            data: { UserStartTime: StartTime, rowId: StartTimerow },
            dataType: 'html',
            encode: true,
            success: function (data) {
                alert("Success");
            }
        });
    });
</script>


