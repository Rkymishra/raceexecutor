@model RaceExecutor.UI.Models.CategoryWiseRankingViewModel
@{
    ViewBag.Title = "RankCategoryWiseForm";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@*<a href="@Url.Action("Create", "Race")" class="pull-right">
        <h1 class="btn btn-primary btn-sm">
            <span class="glyphicon glyphicon-circle-arrow-left"></span>&nbsp;BIB Entry
        </h1>
    </a>*@
<div class="row bg-title">
    <div class="col-lg-3 col-md-4 col-sm-4 col-xs-12">
        <h4 class="page-title">Reporting</h4>
    </div>
    <div class="col-lg-9 col-sm-8 col-md-8 col-xs-12">
        <a href="@Url.Action("ExportSample","Race")" class="btn btn-danger pull-right m-l-20 hidden-xs hidden-sm waves-effect waves-light">
            Download Excel Sample of CheckPoint

        </a>
        <ol class="breadcrumb">
            <li><a href="#">Trail Race</a></li>
            <li class="active">Reporting</li>
        </ol>
    </div>
    <!-- /.col-lg-12 -->
</div>
@if (TempData["Fail"] != null)
{
    <p class="alert alert-danger" style="color:white;" id="failMessage">@TempData["Fail"]</p>
}
@if (TempData["Success"] != null)
{
    <p class="alert alert-info" style="color:white;" id="failMessage">@TempData["Success"]</p>
}

<div class=" col-md-12 white-box" style="padding-bottom:0px;">
    @using (Html.BeginForm("ImportExcelCheckPointData", "Race", FormMethod.Post, new { area = "", @class = "form-horizontal", enctype = "multipart/form-data" }))
    {
        <div class="col-md-3 col-sm-12 col-xs-12 form-group">
            @Html.TextBoxFor(model => model.FileName, "", new { @type = "file", @multiple = "multiple" })
            @*<input type="file" id="dataFile" name="upload"/>*@
        </div>
        <div class="form-group">
            <div class="col-md-offset-3 col-md-3 col-sm-12 col-xs-12 form-group">
                <input type="submit" value="Check-Point Excel Import" class="btn btn-primary" />
            </div>
            <div class="col-md-offset-6 col-md-6 col-sm-12 col-xs-12 form-group">
                <h5>Note: Excel data should be upto  minimum 15 rows.</h5>
            </div>
        </div>
    }

</div>

<div class=" col-md-12 white-box">
    @using (Html.BeginForm("RankCategoryWiseFormExcel", "Race", FormMethod.Post, new { id = "yourFormId", area = "", @class = "form-horizontal" }))
    {
        @Html.AntiForgeryToken()
        @Html.ValidationSummary(true)

        <div class="form-group" style="margin-top:20px;">
            <div class="editor-label  col-md-3 control-label">
                <strong style="font-size:small;"> Select Date:</strong>
            </div>
            <div class="editor-field col-md-8">
                @Html.TextBoxFor(m => m.Date, new { @Id = "datepicker", @class = "form-control", placeholder = "Choose one date..", required = "required" })
                @Html.ValidationMessageFor(model => model.Date)
            </div>
        </div>

        <div class="form-group">
            <div class="editor-label  col-md-3 control-label">
                <strong style="font-size:small;">Category:</strong>
            </div>
            <div class="editor-field col-md-8">
                @Html.DropDownListFor(m => m.Category, new List<SelectListItem>{
                 new SelectListItem{ Text="--select age-category--", Value = "" },
                   new SelectListItem{ Text="11 and below", Value = "11 and below" },
                     new SelectListItem{ Text="12 to 17", Value = "12 to 17" },
                     new SelectListItem{ Text="8 and below", Value = "8 and below" },
                     new SelectListItem{ Text="40 above", Value = "40 and above" },
                     new SelectListItem{ Text="18 to 39", Value = "18 to 39" },
                     new SelectListItem{ Text="17 and below",Value="17 and below"},
                     new SelectListItem { Text="Not Provided",Value="Not Provided"},
                     new SelectListItem { Text="OverAll",Value="0"}
                     },
                     htmlAttributes: new { @class = "form-control", placeholder = "which category?" })
                @Html.ValidationMessageFor(model => model.Category)
            </div>
        </div>

        <div class="form-group">
            <div class="editor-label  col-md-3 control-label">
                <strong style="font-size:small;">Gender:</strong>
            </div>
            <div class="editor-field col-md-8">
                @Html.DropDownListFor(m => m.Gender, new List<SelectListItem>{
                 new SelectListItem{ Text="--Select Gender--", Value = "" },
                new SelectListItem{ Text="Male", Value = "Male" },
                new SelectListItem{ Text="Female", Value = "Female" },
                 new SelectListItem{ Text="All", Value = "0" },
                 },
                htmlAttributes: new { @class = "form-control", placeholder = "choose male or female" })
                @Html.ValidationMessageFor(model => model.Gender)
            </div>
        </div>
        <div class="form-group">
            <div class="editor-label  col-md-3 control-label">
                <strong style="font-size:small;">Distance:</strong>
            </div>
            <div class="editor-field col-md-8">
                @Html.DropDownListFor(m => m.Distance, new List<SelectListItem>{
                new SelectListItem{ Text="--select Distance--", Value = "" },
                new SelectListItem{ Text="NULL Distance", Value = "0" },
                  new SelectListItem{ Text="1.5", Value = "2" },
                    new SelectListItem{ Text="4", Value = "4" },
                new SelectListItem{ Text="5", Value = "5" },
                new SelectListItem{ Text="6", Value = "6" },
                new SelectListItem{ Text="7", Value = "7" },
                new SelectListItem{ Text="8", Value = "8" },
                new SelectListItem{ Text="9", Value = "9" },
                new SelectListItem{ Text="10", Value = "10" },
                new SelectListItem{ Text="11", Value = "11" },
                new SelectListItem{ Text="12", Value = "12" },
                 new SelectListItem{ Text="13", Value = "13" },
                  new SelectListItem{ Text="14", Value = "14" },
                new SelectListItem{ Text="15", Value = "15" },
                new SelectListItem{ Text="20", Value = "20" },
                new SelectListItem{ Text="21", Value = "21" },
                new SelectListItem{ Text="25", Value = "25" },
                new SelectListItem{ Text="50", Value = "50" },
                new SelectListItem{ Text="51", Value = "51" },
                }, htmlAttributes: new { @class = "form-control", placeholder = "select distance?"})
                @*@Html.TextBoxFor(m => m.Distance, new {@class = "form-control", placeholder = "Enter the distance", required = "required"})*@
                @Html.ValidationMessageFor(model => model.Distance)
            </div>
        </div>
        <div class="col-md-offset-3 col-md-8">
            <div class="col-md-6">
                <button type="Submit" class="btn btn-primary btn-block">Export Excel</button>
            </div>
            <div class="col-md-6">
                <button type="Submit" id="show" onclick="javascript:;" class="btn btn-primary btn-block">Submit</button>
            </div>
        </div>
    }
</div>

<script>
      $(document).ready(function Select() {
          // $('.form-horizontal').submit(function (e) {
          //alert("here");
          $(document.body).on('click', '#show', function (e) {
              $.ajax({
                  data: $('#yourFormId').serialize(),
                  type: 'POST',
                  url: '@Url.Action("CategoryListView", "Race")',
                    success: function (response) { // on success..
                        $('#listview').html(response); // update the DIV
                    }

                });

                return false;// cancel original event


            });
        });
</script>
<div id="listview">
</div>

<link href="~/Content/datatable.bootstrap.min.css" rel="stylesheet" />
<script src="~/Content/datatable.min.js"></script>
<script>
        $(document).ready(function () {
            $('#example').DataTable();
        });
</script>

<script>
        $(function () {
            $("#datepicker").datepicker();
        });
</script>
